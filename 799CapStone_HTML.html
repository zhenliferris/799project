<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.554">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Zhen Li">
<meta name="dcterms.date" content="2024-06-01">

<title>Analysis for Dataset ‘Infrared Thermography’</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="799CapStone_HTML_files/libs/clipboard/clipboard.min.js"></script>
<script src="799CapStone_HTML_files/libs/quarto-html/quarto.js"></script>
<script src="799CapStone_HTML_files/libs/quarto-html/popper.min.js"></script>
<script src="799CapStone_HTML_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="799CapStone_HTML_files/libs/quarto-html/anchor.min.js"></script>
<link href="799CapStone_HTML_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="799CapStone_HTML_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="799CapStone_HTML_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="799CapStone_HTML_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="799CapStone_HTML_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script src="799CapStone_HTML_files/libs/quarto-diagram/mermaid.min.js"></script>
<script src="799CapStone_HTML_files/libs/quarto-diagram/mermaid-init.js"></script>
<link href="799CapStone_HTML_files/libs/quarto-diagram/mermaid.css" rel="stylesheet">

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Analysis for Dataset ‘Infrared Thermography’</h1>
<p class="subtitle lead">799 DSAN CapStone Project</p>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Zhen Li </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">June 1, 2024</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<section id="background" class="level2">
<h2 class="anchored" data-anchor-id="background">Background</h2>
<ul>
<li>Fever is typically common symptom of diseases such as the COVID19 that can severely threaten public health.</li>
<li>When assessing fever symptoms, the oral temperature is the true value we aim to obtain. Measuring oral temperature for large crowds involves hygiene and time efficiency issues.</li>
<li>Infrared thermography can quickly capture facial temperature Without direct contact with the human body.</li>
<li>The goal is to establish a good model that predicts the oral temperature of individuals using quickly obtained facial temperature.</li>
</ul>
</section>
<section id="data-source" class="level2">
<h2 class="anchored" data-anchor-id="data-source">Data Source</h2>
<ul>
<li>The original dataset, FLIR_groups1and2.csv, is available for download at https://doi.org/10.13026/3bhc-9065 <span class="citation" data-cites="wang2023facial">(<a href="#ref-wang2023facial" role="doc-biblioref">Wang et al. 2023</a>)</span>.</li>
<li>This file contains 1,020 observations and four rounds of measurements across 120 variables.</li>
<li>For this project, which aims to develop a model for rapid screening, we have retained 32 variables from the first round of measurements, focusing on infrared thermography and environmental parameters, for our analysis.</li>
</ul>
</section>
<section id="variables-list" class="level2">
<h2 class="anchored" data-anchor-id="variables-list">Variables list</h2>
<table class="table">
<colgroup>
<col style="width: 20%">
<col style="width: 20%">
<col style="width: 20%">
<col style="width: 39%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Variable Name</th>
<th style="text-align: left;">Role</th>
<th style="text-align: left;">Type</th>
<th style="text-align: left;">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">SubjectID</td>
<td style="text-align: left;">ID</td>
<td style="text-align: left;">Categorical</td>
<td style="text-align: left;">Subject ID</td>
</tr>
<tr class="even">
<td style="text-align: left;">T_OR_Max1</td>
<td style="text-align: left;">Target</td>
<td style="text-align: left;">Continuous</td>
<td style="text-align: left;">Oral temperature</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Gender</td>
<td style="text-align: left;">Feature</td>
<td style="text-align: left;">Categorical</td>
<td style="text-align: left;">Male or Female</td>
</tr>
<tr class="even">
<td style="text-align: left;">…</td>
<td style="text-align: left;">…</td>
<td style="text-align: left;">…</td>
<td style="text-align: left;"></td>
</tr>
<tr class="odd">
<td style="text-align: left;">…</td>
<td style="text-align: left;">…</td>
<td style="text-align: left;">…</td>
<td style="text-align: left;"></td>
</tr>
<tr class="even">
<td style="text-align: left;">T_Max1</td>
<td style="text-align: left;">Feature</td>
<td style="text-align: left;">Continuous</td>
<td style="text-align: left;">Maximum temperature within the whole face region</td>
</tr>
</tbody>
</table>
</section>
<section id="measure-guidance" class="level2">
<h2 class="anchored" data-anchor-id="measure-guidance">Measure Guidance</h2>
<p><em>Figure 1</em></p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="facial_oral_temperature_data/_Figure1.png" class="img-fluid figure-img"></p>
<figcaption>Measurement guidance</figcaption>
</figure>
</div>
</section>
<section id="measure-guidance-continued" class="level2">
<h2 class="anchored" data-anchor-id="measure-guidance-continued">Measure Guidance continued</h2>
<p><em>Figure 2</em></p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="facial_oral_temperature_data/JBO_25_9_097002_f001.png" class="img-fluid figure-img"></p>
<figcaption>Mesurement guidance02</figcaption>
</figure>
</div>
</section>
<section id="the-r-packages-used" class="level2">
<h2 class="anchored" data-anchor-id="the-r-packages-used">The R Packages Used</h2>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a><span class="fu">library</span>(tidyverse) </span>
<span id="cb1-2"><a href="#cb1-2"></a><span class="fu">library</span>(Hmisc)</span>
<span id="cb1-3"><a href="#cb1-3"></a><span class="fu">library</span>(psych)</span>
<span id="cb1-4"><a href="#cb1-4"></a><span class="fu">library</span>(scales)</span>
<span id="cb1-5"><a href="#cb1-5"></a><span class="fu">library</span>(caTools)</span>
<span id="cb1-6"><a href="#cb1-6"></a><span class="fu">library</span>(patchwork)</span>
<span id="cb1-7"><a href="#cb1-7"></a><span class="fu">library</span>(car)</span>
<span id="cb1-8"><a href="#cb1-8"></a><span class="fu">library</span>(reshape2) </span>
<span id="cb1-9"><a href="#cb1-9"></a><span class="fu">library</span>(caret)</span>
<span id="cb1-10"><a href="#cb1-10"></a><span class="fu">library</span>(glmnet)</span>
<span id="cb1-11"><a href="#cb1-11"></a><span class="fu">library</span>(randomForest)</span>
<span id="cb1-12"><a href="#cb1-12"></a><span class="fu">library</span>(gridExtra)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="brief-look-at-the-selected-data" class="level2">
<h2 class="anchored" data-anchor-id="brief-look-at-the-selected-data">Brief Look at the Selected Data</h2>
<ul>
<li>There are a total of 32 variables and 1,020 observations.</li>
<li>Some variables, such as ‘T_offset1’, have missing values.</li>
<li>Some categorical data, like ‘Age’, have overlapping ranges such as ‘21-25’, ‘26-30’, and ‘21-30’, which should be combined into a single group to reduce complexity.</li>
</ul>
</section>
<section id="dealing-the-missing-data-and-combine-age-group" class="level2">
<h2 class="anchored" data-anchor-id="dealing-the-missing-data-and-combine-age-group">Dealing the Missing Data and Combine Age Group</h2>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a><span class="co"># Convert all empty strings to NA</span></span>
<span id="cb2-2"><a href="#cb2-2"></a>data_selected[data_selected <span class="sc">==</span> <span class="st">""</span>] <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb2-3"><a href="#cb2-3"></a></span>
<span id="cb2-4"><a href="#cb2-4"></a><span class="co"># Remove rows with any NA values</span></span>
<span id="cb2-5"><a href="#cb2-5"></a>data_cleaned <span class="ot">&lt;-</span> data_selected[<span class="fu">complete.cases</span>(data_selected), ]</span>
<span id="cb2-6"><a href="#cb2-6"></a></span>
<span id="cb2-7"><a href="#cb2-7"></a><span class="co"># combine age 21-30 to one group </span></span>
<span id="cb2-8"><a href="#cb2-8"></a>data_cleaned<span class="sc">$</span>Age[data_cleaned<span class="sc">$</span>Age <span class="sc">==</span> <span class="st">"21-25"</span> <span class="sc">|</span> data_cleaned<span class="sc">$</span>Age <span class="sc">==</span> <span class="st">"26-30"</span>] <span class="ot">&lt;-</span> <span class="st">"21-30"</span></span>
<span id="cb2-9"><a href="#cb2-9"></a>data_cleaned<span class="sc">$</span>Age[data_cleaned<span class="sc">$</span>Age <span class="sc">==</span> <span class="st">"&gt;60"</span> ] <span class="ot">&lt;-</span> <span class="st">"60+"</span></span>
<span id="cb2-10"><a href="#cb2-10"></a><span class="co"># Hmisc::describe(data_cleaned)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="plot-categorical-data" class="level2">
<h2 class="anchored" data-anchor-id="plot-categorical-data">Plot Categorical Data</h2>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="799CapStone_HTML_files/figure-html/unnamed-chunk-4-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="process-with-categorical-data-to-numerical" class="level2">
<h2 class="anchored" data-anchor-id="process-with-categorical-data-to-numerical">Process with Categorical Data to Numerical</h2>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a>mydataframe <span class="ot">&lt;-</span> data_cleaned <span class="sc">%&gt;%</span> </span>
<span id="cb3-2"><a href="#cb3-2"></a>  <span class="fu">mutate</span>(</span>
<span id="cb3-3"><a href="#cb3-3"></a>    <span class="co"># Encoding categorical variables</span></span>
<span id="cb3-4"><a href="#cb3-4"></a>    <span class="co"># Gender_Female as base line</span></span>
<span id="cb3-5"><a href="#cb3-5"></a>    <span class="at">Gender_M =</span> <span class="fu">ifelse</span>(Gender <span class="sc">==</span> <span class="st">"Male"</span>, <span class="dv">1</span>, <span class="dv">0</span>),)</span>
<span id="cb3-6"><a href="#cb3-6"></a>    </span>
<span id="cb3-7"><a href="#cb3-7"></a><span class="co"># Removing columns: 'Gender', 'Age', and 'Ethnicity'</span></span>
<span id="cb3-8"><a href="#cb3-8"></a>mydataframe <span class="ot">&lt;-</span> mydataframe[, <span class="sc">!</span>(<span class="fu">names</span>(mydataframe) <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Gender"</span>, <span class="st">"Age"</span>, <span class="st">"Ethnicity"</span>))]  </span>
<span id="cb3-9"><a href="#cb3-9"></a></span>
<span id="cb3-10"><a href="#cb3-10"></a><span class="co"># Ensure all variables are numerical</span></span>
<span id="cb3-11"><a href="#cb3-11"></a>mydataframe <span class="ot">&lt;-</span> mydataframe <span class="sc">%&gt;%</span> </span>
<span id="cb3-12"><a href="#cb3-12"></a>  <span class="fu">mutate_if</span>(<span class="sc">~</span> <span class="fu">all</span>(<span class="sc">!</span><span class="fu">is.na</span>(<span class="fu">as.numeric</span>(<span class="fu">as.character</span>(.)))), as.numeric)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="self-defined-descriptive-statistics" class="level2">
<h2 class="anchored" data-anchor-id="self-defined-descriptive-statistics">Self Defined Descriptive statistics</h2>
<p>To better describe the numerical data from the original measurements, we define a function that provides basic information such as sample size, mean, standard deviation, skewness, and kurtosis.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a><span class="co"># Basic descriptive statistics </span></span>
<span id="cb4-2"><a href="#cb4-2"></a>des_stats <span class="ot">&lt;-</span> <span class="cf">function</span>(x, <span class="at">na.omit=</span><span class="cn">FALSE</span>){</span>
<span id="cb4-3"><a href="#cb4-3"></a>  <span class="cf">if</span> (na.omit)</span>
<span id="cb4-4"><a href="#cb4-4"></a>    x <span class="ot">&lt;-</span> x[<span class="sc">!</span><span class="fu">is.na</span>(x)]</span>
<span id="cb4-5"><a href="#cb4-5"></a>  m <span class="ot">&lt;-</span> <span class="fu">mean</span>(x)</span>
<span id="cb4-6"><a href="#cb4-6"></a>  n <span class="ot">&lt;-</span> <span class="fu">length</span>(x)</span>
<span id="cb4-7"><a href="#cb4-7"></a>  s <span class="ot">&lt;-</span> <span class="fu">sd</span>(x)</span>
<span id="cb4-8"><a href="#cb4-8"></a>  skew <span class="ot">&lt;-</span> <span class="fu">sum</span>((x<span class="sc">-</span>m)<span class="sc">^</span><span class="dv">3</span><span class="sc">/</span>s<span class="sc">^</span><span class="dv">3</span>)<span class="sc">/</span>n</span>
<span id="cb4-9"><a href="#cb4-9"></a>  kurt <span class="ot">&lt;-</span> <span class="fu">sum</span>((x<span class="sc">-</span>m)<span class="sc">^</span><span class="dv">4</span><span class="sc">/</span>s<span class="sc">^</span><span class="dv">4</span>)<span class="sc">/</span>n <span class="sc">-</span> <span class="dv">3</span></span>
<span id="cb4-10"><a href="#cb4-10"></a>  <span class="fu">return</span>(<span class="fu">c</span>(<span class="at">n=</span>n, <span class="at">mean=</span>m, <span class="at">stdev=</span>s,</span>
<span id="cb4-11"><a href="#cb4-11"></a>           <span class="at">skew=</span>skew, <span class="at">kurtosis=</span>kurt))</span>
<span id="cb4-12"><a href="#cb4-12"></a>}</span>
<span id="cb4-13"><a href="#cb4-13"></a><span class="fu">sapply</span>(mydataframe[<span class="dv">1</span><span class="sc">:</span><span class="dv">29</span>], des_stats)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>            T_offset1    Max1R13_1    Max1L13_1  aveAllR13_1   aveAllL13_1
n        1001.0000000 1001.0000000 1001.0000000 1001.0000000 1001.00000000
mean        0.9603896   35.5275325   35.5399401   34.7882517   34.90594406
stdev       0.4185555    0.6103086    0.5870455    0.8010727    0.71848071
skew        0.6325190    0.7788724    0.6380632   -0.2935453   -0.04830282
kurtosis    4.5039029    2.4011231    2.0659957    2.3833188    1.64233439
                T_RC1    T_RC_Dry1    T_RC_Wet1    T_RC_Max1        T_LC1
n        1001.0000000 1001.0000000 1001.0000000 1001.0000000 1001.0000000
mean       35.5922877   35.5142258   35.4787812   35.6221279   35.5701399
stdev       0.5837500    0.6031786    0.6059537    0.5830048    0.5743379
skew        0.8807364    0.8053378    0.7359167    0.8820616    0.7096845
kurtosis    2.7000235    2.5329753    2.3889692    2.7033613    2.0980680
            T_LC_Dry1    T_LC_Wet1    T_LC_Max1         RCC1         LCC1
n        1001.0000000 1001.0000000 1001.0000000 1001.0000000 1001.0000000
mean       35.5362438   35.3946953   35.6015684   35.1816783   35.1327273
stdev       0.5804356    0.6229043    0.5741002    0.6536831    0.6546552
skew        0.6848343    0.4178882    0.7082639    0.5745866    0.2512231
kurtosis    2.1166300    1.6974900    2.0939820    1.8732465    1.8038732
           canthiMax1  canthi4Max1      T_FHCC1      T_FHRC1      T_FHLC1
n        1001.0000000 1001.0000000 1001.0000000 1001.0000000 1001.0000000
mean       35.7172128   35.6874426   34.4402498   34.4359740   34.4469930
stdev       0.5610792    0.5610754    0.7711031    0.7874477    0.7736153
skew        0.9910312    0.9952600   -0.7274469   -0.8856128   -0.6746324
kurtosis    2.6084703    2.6364560    2.6940562    3.5849533    2.2154211
              T_FHBC1      T_FHTC1    T_FH_Max1   T_FHC_Max1       T_Max1
n        1001.0000000 1001.0000000 1001.0000000 1001.0000000 1001.0000000
mean       34.3452947   34.4324975   35.3561538   34.9995405   35.8206094
stdev       0.7701425    0.9141997    0.5627050    0.6428375    0.5308622
skew       -0.6207007   -1.3304576    0.2122662   -0.4226499    1.0612231
kurtosis    2.4991055    4.8861606    2.2781230    2.6153255    2.9267537
            T_OR_Max1        T_atm     Humidity    Distance
n        1001.0000000 1001.0000000 1001.0000000 1001.000000
mean       35.3290809   24.1204795   28.7625375    0.731009
stdev       0.6971657    1.3455966   13.0695289    2.477248
skew       -0.2928126    0.5047649    0.6835440   31.508324
kurtosis    1.7341084    1.2645024   -0.6031495  992.512306</code></pre>
</div>
</div>
</section>
<section id="plot-numerical-data" class="level2">
<h2 class="anchored" data-anchor-id="plot-numerical-data">Plot Numerical Data</h2>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="799CapStone_HTML_files/figure-html/unnamed-chunk-8-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="dealing-the-outlier" class="level2">
<h2 class="anchored" data-anchor-id="dealing-the-outlier">Dealing the Outlier</h2>
<p>Interquartile Range (IQR) <span class="math display">\[
\text{IQR} = Q3 - Q1
\]</span></p>
<p>Lower Bound <span class="math display">\[
lower_-bound = Q1 - 1.5 \times IQR
\]</span></p>
<p>Upper Bound <span class="math display">\[
upper_-bound = Q3 + 1.5 \times IQR
\]</span></p>
</section>
<section id="plot-numerical-data-wo-outliers" class="level2">
<h2 class="anchored" data-anchor-id="plot-numerical-data-wo-outliers">Plot Numerical Data w/o Outliers</h2>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="799CapStone_HTML_files/figure-html/unnamed-chunk-12-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="correlation-matrix-heatmap" class="level2">
<h2 class="anchored" data-anchor-id="correlation-matrix-heatmap">Correlation Matrix Heatmap</h2>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="799CapStone_HTML_files/figure-html/unnamed-chunk-14-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="oral-temperature-vs.-dependent-variables" class="level2">
<h2 class="anchored" data-anchor-id="oral-temperature-vs.-dependent-variables">Oral Temperature VS. Dependent Variables</h2>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="799CapStone_HTML_files/figure-html/unnamed-chunk-16-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="standardization-of-data" class="level2">
<h2 class="anchored" data-anchor-id="standardization-of-data">Standardization of Data</h2>
<p>$$</p>
<p>Standardized Value = $$</p>
</section>
<section id="split-data-for-training-and-testing-by-the-ration-8020" class="level2">
<h2 class="anchored" data-anchor-id="split-data-for-training-and-testing-by-the-ration-8020">Split Data for Training and Testing by the Ration 80:20</h2>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a><span class="fu">set.seed</span>(<span class="dv">42</span>)</span>
<span id="cb6-2"><a href="#cb6-2"></a>split <span class="ot">&lt;-</span> <span class="fu">sample.split</span>(mydataframe<span class="sc">$</span>T_OR_Max1, <span class="at">SplitRatio =</span> <span class="fl">0.8</span>)</span>
<span id="cb6-3"><a href="#cb6-3"></a>train_data <span class="ot">&lt;-</span> <span class="fu">subset</span>(mydataframe, split <span class="sc">==</span> <span class="cn">TRUE</span>)</span>
<span id="cb6-4"><a href="#cb6-4"></a>test_data <span class="ot">&lt;-</span> <span class="fu">subset</span>(mydataframe, split <span class="sc">==</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="full-liner-regression-model" class="level2">
<h2 class="anchored" data-anchor-id="full-liner-regression-model">Full Liner Regression Model</h2>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = T_OR_Max1 ~ ., data = train_data)

Residuals:
    Min      1Q  Median      3Q     Max 
-2.4305 -0.4729  0.1262  0.5641  1.3968 

Coefficients:
              Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept) -0.0403524  0.0426431  -0.946  0.34444    
T_offset1   -0.1103248  0.0397636  -2.775  0.00572 ** 
Max1R13_1   -0.2336011  0.2270822  -1.029  0.30409    
Max1L13_1    0.0599152  0.2300158   0.260  0.79459    
aveAllR13_1  0.1027192  0.0672097   1.528  0.12703    
aveAllL13_1  0.0604321  0.0642277   0.941  0.34719    
T_RC1        0.7608109  0.7872684   0.966  0.33429    
T_RC_Dry1    0.2819361  0.2354084   1.198  0.23159    
T_RC_Wet1    0.2801456  0.1179915   2.374  0.01794 *  
T_RC_Max1   -0.8971967  0.7390849  -1.214  0.22532    
T_LC1        0.7005650  0.7427485   0.943  0.34601    
T_LC_Dry1    0.0003762  0.3089001   0.001  0.99903    
T_LC_Wet1   -0.0180984  0.1121093  -0.161  0.87181    
T_LC_Max1   -0.8506549  0.6715548  -1.267  0.20582    
RCC1        -0.0981621  0.0867169  -1.132  0.25816    
LCC1        -0.0438804  0.0826842  -0.531  0.59585    
canthiMax1   0.8335121  0.7723943   1.079  0.28102    
canthi4Max1 -1.2996385  0.7928805  -1.639  0.10178    
T_FHCC1     -0.1186885  0.0989227  -1.200  0.23075    
T_FHRC1     -0.0726441  0.0680752  -1.067  0.28641    
T_FHLC1      0.0980432  0.0700637   1.399  0.16230    
T_FHBC1      0.2483280  0.0869825   2.855  0.00447 ** 
T_FHTC1      0.0050607  0.0746947   0.068  0.94601    
T_FH_Max1   -0.1127790  0.0590556  -1.910  0.05671 .  
T_FHC_Max1   0.0251103  0.0920137   0.273  0.78504    
T_Max1       0.9546431  0.0806797  11.833  &lt; 2e-16 ***
T_atm        0.0857441  0.0418758   2.048  0.04110 *  
Humidity     0.0741832  0.0361173   2.054  0.04047 *  
Distance    -0.0241198  0.0357459  -0.675  0.50013    
Gender_M     0.0580021  0.0727974   0.797  0.42595    
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 0.7652 on 527 degrees of freedom
Multiple R-squared:  0.4829,    Adjusted R-squared:  0.4545 
F-statistic: 16.97 on 29 and 527 DF,  p-value: &lt; 2.2e-16</code></pre>
</div>
</div>
</section>
<section id="full-regression-and-stepwised-regression-model" class="level2">
<h2 class="anchored" data-anchor-id="full-regression-and-stepwised-regression-model">Full Regression and Stepwised Regression Model</h2>
<ul>
<li><p>Add interaction terms (for two predictors only) to the full linear model increases the R-squared value, bringing it closer to 1. However, it also significantly increases the model’s complexity. In our case, with 435 factors (29 dependent variables and 406 interaction terms) involved, this suggests potential overfitting.</p></li>
<li><p>A stepwise method (backward) provides a way to remove predictors from the full regression model above to reduce complexity. However, the resulting model formula remains overly complicated.</p></li>
</ul>
</section>
<section id="improved-regression-model" class="level2">
<h2 class="anchored" data-anchor-id="improved-regression-model">Improved Regression Model</h2>
<div class="cell" data-layout-align="default">
<div class="cell-output-display">
<div>
<p></p><figure class="figure"><p></p>
<div>
<pre class="mermaid mermaid-js">flowchart TB
  A(Full Linear Regression) --&gt; B(Stepwise Regression)
  B --&gt; C(Add Interaction Terms)
  C --&gt; D(2nd Stepwise Regression)
  D --&gt; E(Final model)
</pre>
</div>
<p></p></figure><p></p>
</div>
</div>
</div>
</section>
<section id="summary-of-the-improved-regression-model" class="level2">
<h2 class="anchored" data-anchor-id="summary-of-the-improved-regression-model">Summary of the Improved Regression Model</h2>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = T_OR_Max1 ~ T_offset1 + Max1R13_1 + aveAllR13_1 + 
    T_RC_Dry1 + T_RC_Wet1 + canthi4Max1 + T_FHBC1 + T_FH_Max1 + 
    T_Max1 + T_atm + Humidity + T_offset1:aveAllR13_1 + T_offset1:T_FHBC1 + 
    T_offset1:T_atm + aveAllR13_1:T_FHBC1 + aveAllR13_1:Humidity + 
    T_RC_Dry1:canthi4Max1 + T_RC_Dry1:T_FHBC1 + T_RC_Dry1:T_Max1 + 
    T_RC_Dry1:Humidity + T_RC_Wet1:canthi4Max1 + T_RC_Wet1:T_Max1 + 
    T_RC_Wet1:T_atm + T_RC_Wet1:Humidity + canthi4Max1:T_FH_Max1 + 
    T_FHBC1:Humidity + T_FH_Max1:T_Max1 + T_FH_Max1:T_atm + T_Max1:T_atm, 
    data = train_data)

Residuals:
    Min      1Q  Median      3Q     Max 
-2.1722 -0.4166  0.1103  0.4980  1.4805 

Coefficients:
                      Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)            0.16842    0.04254   3.959 8.57e-05 ***
T_offset1             -0.09034    0.03696  -2.445  0.01483 *  
Max1R13_1             -0.37278    0.19174  -1.944  0.05240 .  
aveAllR13_1            0.07544    0.05265   1.433  0.15249    
T_RC_Dry1              0.36768    0.19162   1.919  0.05555 .  
T_RC_Wet1              0.12638    0.07013   1.802  0.07209 .  
canthi4Max1           -0.97059    0.11841  -8.197 1.88e-15 ***
T_FHBC1                0.14525    0.04800   3.026  0.00260 ** 
T_FH_Max1             -0.08115    0.04659  -1.742  0.08214 .  
T_Max1                 1.37546    0.08940  15.385  &lt; 2e-16 ***
T_atm                  0.07611    0.03726   2.043  0.04159 *  
Humidity               0.10073    0.03351   3.006  0.00277 ** 
T_offset1:aveAllR13_1  0.08233    0.04110   2.003  0.04566 *  
T_offset1:T_FHBC1     -0.05869    0.03934  -1.492  0.13631    
T_offset1:T_atm       -0.07065    0.03049  -2.317  0.02088 *  
aveAllR13_1:T_FHBC1   -0.10754    0.05236  -2.054  0.04051 *  
aveAllR13_1:Humidity  -0.10652    0.05750  -1.853  0.06451 .  
T_RC_Dry1:canthi4Max1 -0.41477    0.14505  -2.859  0.00441 ** 
T_RC_Dry1:T_FHBC1      0.10885    0.05778   1.884  0.06013 .  
T_RC_Dry1:T_Max1       0.29565    0.13922   2.124  0.03417 *  
T_RC_Dry1:Humidity     0.18327    0.07477   2.451  0.01456 *  
T_RC_Wet1:canthi4Max1 -0.21746    0.13200  -1.647  0.10006    
T_RC_Wet1:T_Max1       0.19441    0.13013   1.494  0.13578    
T_RC_Wet1:T_atm        0.17655    0.05490   3.216  0.00138 ** 
T_RC_Wet1:Humidity    -0.17378    0.05891  -2.950  0.00332 ** 
canthi4Max1:T_FH_Max1  0.42607    0.07210   5.910 6.16e-09 ***
T_FHBC1:Humidity       0.08976    0.03981   2.255  0.02455 *  
T_FH_Max1:T_Max1      -0.27661    0.06898  -4.010 6.96e-05 ***
T_FH_Max1:T_atm       -0.06392    0.03826  -1.671  0.09535 .  
T_Max1:T_atm          -0.14386    0.05969  -2.410  0.01630 *  
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 0.7005 on 527 degrees of freedom
Multiple R-squared:  0.5667,    Adjusted R-squared:  0.5428 
F-statistic: 23.76 on 29 and 527 DF,  p-value: &lt; 2.2e-16</code></pre>
</div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>            T_offset1             Max1R13_1           aveAllR13_1 
             1.588778             41.989761              3.036011 
            T_RC_Dry1             T_RC_Wet1           canthi4Max1 
            41.719901              5.685309             15.777151 
              T_FHBC1             T_FH_Max1                T_Max1 
             2.727546              2.508126              9.123867 
                T_atm              Humidity T_offset1:aveAllR13_1 
             1.542628              1.262523              1.707703 
    T_offset1:T_FHBC1       T_offset1:T_atm   aveAllR13_1:T_FHBC1 
             2.120347              1.383515              3.426110 
 aveAllR13_1:Humidity T_RC_Dry1:canthi4Max1     T_RC_Dry1:T_FHBC1 
             3.389069             35.459508              4.699374 
     T_RC_Dry1:T_Max1    T_RC_Dry1:Humidity T_RC_Wet1:canthi4Max1 
            33.710904              6.067767             29.592164 
     T_RC_Wet1:T_Max1       T_RC_Wet1:T_atm    T_RC_Wet1:Humidity 
            27.806219              3.514764              3.653173 
canthi4Max1:T_FH_Max1      T_FHBC1:Humidity      T_FH_Max1:T_Max1 
             6.890518              1.840454              6.873623 
      T_FH_Max1:T_atm          T_Max1:T_atm 
             1.864243              3.790260 </code></pre>
</div>
</div>
</section>
<section id="impove-the-model-with-pca" class="level2">
<h2 class="anchored" data-anchor-id="impove-the-model-with-pca">Impove the Model with PCA</h2>
<p>Principal Component Analysis (PCA) transforms the predictors into a set of uncorrelated components, reducing the number of variables without losing much information. Using too many predictors can lead to overfitting and complicate the interpretation of the analysis.</p>
</section>
<section id="scree-plot" class="level2">
<h2 class="anchored" data-anchor-id="scree-plot">scree plot</h2>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="799CapStone_HTML_files/figure-html/unnamed-chunk-26-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="components-contributtion" class="level2">
<h2 class="anchored" data-anchor-id="components-contributtion">components contributtion</h2>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Accumulated contribution up to component 1 :  34.47 %"
[1] "Accumulated contribution up to component 2 :  51.43 %"
[1] "Accumulated contribution up to component 3 :  60.94 %"
[1] "Accumulated contribution up to component 4 :  67.42 %"
[1] "Accumulated contribution up to component 5 :  71.8 %"
[1] "Accumulated contribution up to component 6 :  75.81 %"
[1] "Accumulated contribution up to component 7 :  79.34 %"
[1] "Accumulated contribution up to component 8 :  82.1 %"
[1] "Accumulated contribution up to component 9 :  84.46 %"
[1] "Accumulated contribution up to component 10 :  86.66 %"
[1] "Accumulated contribution up to component 11 :  88.48 %"
[1] "Accumulated contribution up to component 12 :  90.09 %"
[1] "Accumulated contribution up to component 13 :  91.49 %"
[1] "Accumulated contribution up to component 14 :  92.85 %"
[1] "Accumulated contribution up to component 15 :  94.15 %"
[1] "Accumulated contribution up to component 16 :  95.18 %"
[1] "Accumulated contribution up to component 17 :  96.09 %"
[1] "Accumulated contribution up to component 18 :  96.91 %"
[1] "Accumulated contribution up to component 19 :  97.64 %"
[1] "Accumulated contribution up to component 20 :  98.14 %"
[1] "Accumulated contribution up to component 21 :  98.58 %"
[1] "Accumulated contribution up to component 22 :  98.97 %"
[1] "Accumulated contribution up to component 23 :  99.3 %"
[1] "Accumulated contribution up to component 24 :  99.57 %"
[1] "Accumulated contribution up to component 25 :  99.82 %"
[1] "Accumulated contribution up to component 26 :  99.92 %"
[1] "Accumulated contribution up to component 27 :  99.97 %"
[1] "Accumulated contribution up to component 28 :  100 %"</code></pre>
</div>
</div>
</section>
<section id="components-contributtion-continued" class="level2">
<h2 class="anchored" data-anchor-id="components-contributtion-continued">components contributtion continued</h2>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="799CapStone_HTML_files/figure-html/unnamed-chunk-28-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="linear-model-with-six-components" class="level2">
<h2 class="anchored" data-anchor-id="linear-model-with-six-components">linear model with six components</h2>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = T_OR_Max1 ~ ., data = train_data_pca)

Residuals:
     Min       1Q   Median       3Q      Max 
-2.56805 -0.53953  0.04293  0.62484  1.89648 

Coefficients:
             Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)  0.010084   0.046457   0.217   0.8282    
PC1         -0.007296   0.013137  -0.555   0.5788    
PC2          0.235647   0.014889  15.827   &lt;2e-16 ***
PC3         -0.039088   0.019824  -1.972   0.0491 *  
PC4         -0.018475   0.024275  -0.761   0.4470    
PC5          0.055235   0.029022   1.903   0.0575 .  
PC6         -0.030685   0.030082  -1.020   0.3082    
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 0.8583 on 550 degrees of freedom
Multiple R-squared:  0.321, Adjusted R-squared:  0.3136 
F-statistic: 43.34 on 6 and 550 DF,  p-value: &lt; 2.2e-16</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>     PC1      PC2      PC3      PC4      PC5      PC6 
1.016655 1.002594 1.000763 1.006119 1.011774 1.001972 </code></pre>
</div>
</div>
</section>
<section id="ridge-regression" class="level2">
<h2 class="anchored" data-anchor-id="ridge-regression">Ridge Regression</h2>
<p>Ridge Regression adds a penalty equal to the square of the magnitude of the coefficients, helping to reduce the impact of multicollinearity.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1"></a><span class="co"># Prepare the data</span></span>
<span id="cb13-2"><a href="#cb13-2"></a>x_train <span class="ot">&lt;-</span> <span class="fu">model.matrix</span>(T_OR_Max1 <span class="sc">~</span> T_offset1 <span class="sc">+</span> Max1R13_1 <span class="sc">+</span> aveAllR13_1 <span class="sc">+</span>                                     T_RC_Dry1 <span class="sc">+</span> T_RC_Wet1 <span class="sc">+</span> canthi4Max1 <span class="sc">+</span> T_FHBC1 <span class="sc">+</span> T_FH_Max1<span class="sc">+</span></span>
<span id="cb13-3"><a href="#cb13-3"></a>                          T_Max1 <span class="sc">+</span> T_atm <span class="sc">+</span> Humidity <span class="sc">+</span> T_offset1<span class="sc">:</span>aveAllR13_1 <span class="sc">+</span></span>
<span id="cb13-4"><a href="#cb13-4"></a>                         T_offset1<span class="sc">:</span>T_FHBC1 <span class="sc">+</span> </span>
<span id="cb13-5"><a href="#cb13-5"></a>                         T_offset1<span class="sc">:</span>T_atm <span class="sc">+</span> aveAllR13_1<span class="sc">:</span>T_FHBC1 <span class="sc">+</span> </span>
<span id="cb13-6"><a href="#cb13-6"></a>                         aveAllR13_1<span class="sc">:</span>Humidity <span class="sc">+</span></span>
<span id="cb13-7"><a href="#cb13-7"></a>                         T_RC_Dry1<span class="sc">:</span>canthi4Max1 <span class="sc">+</span> T_RC_Dry1<span class="sc">:</span>T_FHBC1 <span class="sc">+</span></span>
<span id="cb13-8"><a href="#cb13-8"></a>                         T_RC_Dry1<span class="sc">:</span>T_Max1 <span class="sc">+</span> </span>
<span id="cb13-9"><a href="#cb13-9"></a>                         T_RC_Dry1<span class="sc">:</span>Humidity <span class="sc">+</span> T_RC_Wet1<span class="sc">:</span>canthi4Max1 <span class="sc">+</span></span>
<span id="cb13-10"><a href="#cb13-10"></a>                         T_RC_Wet1<span class="sc">:</span>T_Max1 <span class="sc">+</span> </span>
<span id="cb13-11"><a href="#cb13-11"></a>                         T_RC_Wet1<span class="sc">:</span>T_atm <span class="sc">+</span> T_RC_Wet1<span class="sc">:</span>Humidity <span class="sc">+</span> </span>
<span id="cb13-12"><a href="#cb13-12"></a>                         canthi4Max1<span class="sc">:</span>T_FH_Max1 <span class="sc">+</span> </span>
<span id="cb13-13"><a href="#cb13-13"></a>                         T_FHBC1<span class="sc">:</span>Humidity <span class="sc">+</span> T_FH_Max1<span class="sc">:</span>T_Max1 <span class="sc">+</span> T_FH_Max1<span class="sc">:</span>T_atm <span class="sc">+</span></span>
<span id="cb13-14"><a href="#cb13-14"></a>                         T_Max1<span class="sc">:</span>T_atm, train_data)[,<span class="sc">-</span><span class="dv">1</span>] </span>
<span id="cb13-15"><a href="#cb13-15"></a>y_train <span class="ot">&lt;-</span> train_data<span class="sc">$</span>T_OR_Max1</span>
<span id="cb13-16"><a href="#cb13-16"></a></span>
<span id="cb13-17"><a href="#cb13-17"></a><span class="co"># Ridge Regression</span></span>
<span id="cb13-18"><a href="#cb13-18"></a><span class="fu">set.seed</span>(<span class="dv">42</span>)</span>
<span id="cb13-19"><a href="#cb13-19"></a>ridge_model <span class="ot">&lt;-</span> <span class="fu">cv.glmnet</span>(x_train, y_train, <span class="at">alpha =</span> <span class="dv">0</span>) <span class="co"># alpha = 0 for ridge</span></span>
<span id="cb13-20"><a href="#cb13-20"></a>best_lambda_ridge <span class="ot">&lt;-</span> ridge_model<span class="sc">$</span>lambda.min</span>
<span id="cb13-21"><a href="#cb13-21"></a><span class="co"># Fit the final ridge model</span></span>
<span id="cb13-22"><a href="#cb13-22"></a>ridge_final <span class="ot">&lt;-</span> <span class="fu">glmnet</span>(x_train, y_train, <span class="at">alpha =</span> <span class="dv">0</span>, <span class="at">lambda =</span> best_lambda_ridge)</span>
<span id="cb13-23"><a href="#cb13-23"></a></span>
<span id="cb13-24"><a href="#cb13-24"></a><span class="co"># Extract coefficients</span></span>
<span id="cb13-25"><a href="#cb13-25"></a>ridge_coefficients <span class="ot">&lt;-</span> <span class="fu">coef</span>(ridge_final)</span>
<span id="cb13-26"><a href="#cb13-26"></a></span>
<span id="cb13-27"><a href="#cb13-27"></a><span class="co"># Print coefficients</span></span>
<span id="cb13-28"><a href="#cb13-28"></a><span class="co"># print(ridge_coefficients)</span></span>
<span id="cb13-29"><a href="#cb13-29"></a></span>
<span id="cb13-30"><a href="#cb13-30"></a><span class="co"># Construct the equation</span></span>
<span id="cb13-31"><a href="#cb13-31"></a>intercept <span class="ot">&lt;-</span> ridge_coefficients[<span class="dv">1</span>] <span class="co"># Intercept</span></span>
<span id="cb13-32"><a href="#cb13-32"></a>coefficients <span class="ot">&lt;-</span> ridge_coefficients[<span class="sc">-</span><span class="dv">1</span>] <span class="co"># Coefficients for predictors</span></span>
<span id="cb13-33"><a href="#cb13-33"></a>predictor_names <span class="ot">&lt;-</span> <span class="fu">colnames</span>(x_train)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="ridge-regression-equation" class="level2">
<h2 class="anchored" data-anchor-id="ridge-regression-equation">Ridge Regression Equation</h2>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>Ridge Regression Equation:</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>T_OR_Max1 = 0.08592975 +</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>(-0.0947 * T_offset1) +
(-0.0980 * Max1R13_1) +
(0.0915 * aveAllR13_1) +
(0.0285 * T_RC_Dry1) +
(0.0537 * T_RC_Wet1) +
(-0.2444 * canthi4Max1) +
(0.1146 * T_FHBC1) +
(-0.0107 * T_FH_Max1) +
(0.7387 * T_Max1) +
(0.0816 * T_atm) +
(0.0954 * Humidity) +
(0.0633 * T_offset1:aveAllR13_1) +
(-0.0413 * T_offset1:T_FHBC1) +
(-0.0616 * T_offset1:T_atm) +
(-0.0877 * aveAllR13_1:T_FHBC1) +
(-0.0216 * aveAllR13_1:Humidity) +
(-0.1070 * T_RC_Dry1:canthi4Max1) +
(0.0682 * T_RC_Dry1:T_FHBC1) +
(0.0109 * T_RC_Dry1:T_Max1) +
(0.0773 * T_RC_Dry1:Humidity) +
(-0.0570 * T_RC_Wet1:canthi4Max1) +
(0.0374 * T_RC_Wet1:T_Max1) +
(0.1129 * T_RC_Wet1:T_atm) +
(-0.0950 * T_RC_Wet1:Humidity) +
(0.2323 * canthi4Max1:T_FH_Max1) +
(0.0393 * T_FHBC1:Humidity) +
(-0.0784 * T_FH_Max1:T_Max1) +
(-0.0311 * T_FH_Max1:T_atm) +
(-0.0984 * T_Max1:T_atm)</code></pre>
</div>
</div>
</section>
<section id="evaluate-the-model" class="level2">
<h2 class="anchored" data-anchor-id="evaluate-the-model">Evaluate the model</h2>
<p><span class="math display">\[
RMSE = \sqrt{\frac{1}{n} \sum_{i=1}^{n} (\hat{y_i} - y_i)^2}
\]</span></p>
<p><span class="math display">\[
R^2 = 1 - \frac{RSS}{TSS}
\]</span></p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>Caculated value based on Ridge model: </code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>R-squared : 0.5144992 </code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>RMSE on Training Data: 0.7211868 </code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>RMSE on Testing Data: 0.7401346 </code></pre>
</div>
</div>
</section>
<section id="reference" class="level2 unnumbered">


</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" role="doc-bibliography" id="quarto-bibliography"><h2 class="anchored quarto-appendix-heading">Reference</h2><div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" role="list">
<div id="ref-wang2023facial" class="csl-entry" role="listitem">
Wang, Quanzeng, Yangling Zhou, Pedram Ghassemi, Divya Chenna, Meng Chen, Joseph Casamento, Trevor Pfefer, and David McBride. 2023. <span>“Facial and Oral Temperature Data from a Large Set of Human Subject Volunteers (Version 1.0.0).”</span> PhysioNet. <a href="https://doi.org/10.13026/3bhc-9065">https://doi.org/10.13026/3bhc-9065</a>.
</div>
</div></section></div></main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>